(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,r){e.exports=r(52)},50:function(e,t,r){},52:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(29),c=r.n(s),o=r(2),u=r(4),i=r(7),d=r(5),l=r(8),m=r(17),p=r(15),E=r(3),h=r(6),f=function(e){return n.a.createElement("div",{className:"error-message",style:b},e.message||"Error message")},b={width:"100%",height:"auto",backgroundColor:"rgb(255, 94, 94)",border:"3px solid rgb(255, 34, 34)",color:"white",borderRadius:"5px",padding:"10px",margin:"20px 0",lineHeight:"20px",fontSize:"18px",wordBreak:"break-word"},g=[{username:"user1",password:"password",addresses:[],orders:[],id:1},{username:"user2",password:"password",addresses:[],orders:[],id:2},{username:"user3",password:"password",addresses:[],orders:[],id:3},{username:"123",password:"123",addresses:[],orders:[],id:4}],y=[{id:1,name:"RAM",image:"product1",quantity:203,price:140},{id:2,name:"Processor",image:"product2",quantity:1,price:300},{id:3,name:"Motherboard",image:"product3",quantity:26,price:120},{id:4,name:"Monitor",image:"product4",quantity:86,price:200},{id:5,name:"Case",image:"product5",quantity:13,price:70},{id:6,name:"Cooler",image:"product6",quantity:36,price:50},{id:7,name:"Laptop",image:"product7",quantity:248,price:700},{id:8,name:"Mousepad",image:"product8",quantity:2,price:20},{id:9,name:"Wooden hammer",image:"product9",quantity:48,price:999},{id:10,name:"Microwave",image:"product10",quantity:726,price:210}],O=new function e(){var t=this;Object(o.a)(this,e),this.register=function(e){var r=t.users.username;return t.users.find(function(e){return e.username===r})||e.password!==e.passwordRepeat?{errors:["Could not register user"]}:(t.users.push({username:e.username,password:e.password,addresses:[],orders:[]}),{status:"Register_success",msg:"New account created"})},this.login=function(e){var r=e.password,a=e.username,n=t.users.find(function(e){return e.username===a});return n&&n.password===r?{status:"Login_success",token:"token",msg:"",userInfo:{username:n.username,addresses:n.addresses,id:n.id}}:{errors:["Could not log user in"]}},this.addAddress=function(e,r){var a=t.users.find(function(e){return e.id===r});if(a&&a.addresses.length<5){t.users.map(function(t){return t.id===r&&(e.id=Math.random(),t.addresses.push(e)),t});var n=t.users.find(function(e){return e.id===r});return{userInfo:{username:n.username,addresses:n.addresses,id:n.id},status:"Add_address_success"}}return{error:"Could not add new address"}},this.updateAddress=function(e,r){var a=t.users.find(function(e){return e.id===r});if(a){var n=a.addresses.map(function(t){return t.id===e.addressID&&((t=e).id=e.addressID),t});return a.addresses=n,t.users=t.users.map(function(e){return e.id===a.id?a:e}),{userInfo:{username:a.username,addresses:a.addresses,id:a.id},status:"Update_address_success"}}return{}},this.deleteAddress=function(e,r){console.log(e,r);var a=t.users.find(function(e){return e.id===r});if(console.log(a),a){var n=a.addresses.filter(function(t){return t.id!==e});return t.users.map(function(e){return e.id===a.id&&(e.addresses=n),e}),console.log(t.users),{userInfo:{username:a.username,addresses:a.addresses,id:a.id},status:"Delete_address_success"}}return{}},this.getOrders=function(e){return t.users.find(function(t){return t.id===e}).orders},this.placeOrder=function(e,r){e.id=Math.random(),e.cartItems.forEach(function(e){t.products.map(function(t){return t.id===e.id&&(t.quantity-=e.cartQuantity),t})});var a=new Date;return e.date="".concat(a.getDate(),"-").concat(a.getMonth()+1,"-").concat(a.getFullYear()),e.id=Math.random(),t.users.map(function(t){return t.id===r&&t.orders.push(e),t}),{status:"Order_confirmed"}},this.users=g,this.products=y},v=function(){return function(e){return e({type:"RESET_ERRORS"})}},C=function(e,t){return function(r){r({type:"UPDATE_ADDRESS"});var a=O.updateAddress(e,t);"Update_address_success"===a.status?r({type:"UPDATE_ADDRESS_SUCCESS",userInfo:a.userInfo}):r({type:"UPDATE_ADDRESS_FAILED"})}},S=function(e,t){return function(r){r({type:"DELETE_ADDRESS"});var a=O.deleteAddress(e,t);"Delete_address_success"===a.status?r({type:"DELETE_ADDRESS_SUCCESS",userInfo:a.userInfo}):r({type:"DELETE_ADDRESS_FAILED"})}},D=function(e){function t(){var e,r;Object(o.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={username:"",password:"",errors:[]},r.handleChange=function(e){r.setState(Object(p.a)({},e.target.id,e.target.value))},r.handleSubmit=function(e){e.preventDefault();var t=r.state,a=t.username,n=t.password;if(a&&n)r.setState({errors:[]}),r.props.action_login({username:a,password:n});else{var s=[];a||s.push("Username field is empty"),n||s.push("Password field is empty"),r.setState({errors:s})}},r}return Object(l.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.action_resetErrors()}},{key:"render",value:function(){var e=this.props.auth;if(!e.isEmpty)return n.a.createElement(m.a,{to:"/"});var t=this.state,r=t.username,a=t.password,s=t.errors,c=e.logErrors.map(function(e,t){return n.a.createElement(f,{key:t,message:e})}),o=s.map(function(e,t){return n.a.createElement(f,{key:t,message:e})});return n.a.createElement("div",{className:"auth-form"},n.a.createElement("form",{onSubmit:this.handleSubmit},c,o,n.a.createElement("label",{htmlFor:"username"},"Username"),n.a.createElement("input",{type:"text",value:r,id:"username",onChange:this.handleChange}),n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",value:a,id:"password",onChange:this.handleChange}),n.a.createElement("button",null,"Login")," ",n.a.createElement("br",null),n.a.createElement(E.b,{style:{},to:"/register"},"Or register")))}}]),t}(a.Component),j=Object(h.b)(function(e){return{auth:e.auth}},{action_login:function(e){return function(t){t({type:"LOGIN"});var r,a,n,s=O.login(e);"Login_success"===s.status?t((r=s.userInfo,a=s.token,n=s.msg,{type:"LOGIN_SUCCESS",userInfo:r,token:a,msg:n})):t({type:"LOGIN_FAILED",errors:s.errors})}},action_resetErrors:v})(D),_=function(e){return n.a.createElement("div",{className:"message",style:I},e.message||"Message")},I={width:"100%",height:"auto",backgroundColor:"#82f927",border:"3px solid #1c8223",color:"#1c8223",borderRadius:"5px",padding:"10px",margin:"20px 0",lineHeight:"20px",fontSize:"18px",wordBreak:"break-word"},A=function(e){function t(){var e,r;Object(o.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={username:"",password:"",passwordRepeat:"",errors:[]},r.handleChange=function(e){r.setState(Object(p.a)({},e.target.id,e.target.value))},r.handleSubmit=function(e){e.preventDefault();var t=r.state,a=t.username,n=t.password,s=t.passwordRepeat;if(a&&n&&s&&n===s)r.setState({errors:[],username:"",password:"",passwordRepeat:""}),r.props.action_register({username:a,password:n,passwordRepeat:s});else{var c=[];a||c.push("Username field is empty"),n||c.push("Password field is empty"),s||c.push("Repeat password field is empty"),n!==s&&c.push("Passwords do not match"),r.setState({errors:c})}},r}return Object(l.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.action_resetErrors()}},{key:"render",value:function(){var e=this,t=this.props.auth;if(!t.isEmpty)return n.a.createElement(m.a,{to:"/"});var r=this.state,a=r.username,s=r.password,c=r.passwordRepeat,o=r.errors,u=t.regErrors.map(function(e,t){return n.a.createElement(f,{key:t,message:e})}),i=o.map(function(e,t){return n.a.createElement(f,{key:t,message:e})});return n.a.createElement("div",{className:"auth-form"},n.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},t.regMsg?n.a.createElement(_,{message:t.regMsg}):"",u,i,n.a.createElement("label",{htmlFor:"username"},"Username"),n.a.createElement("input",{type:"text",value:a,id:"username",onChange:this.handleChange}),n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",value:s,id:"password",onChange:this.handleChange}),n.a.createElement("label",{htmlFor:"passwordRepeat"},"Repeat password"),n.a.createElement("input",{type:"password",value:c,id:"passwordRepeat",onChange:this.handleChange}),n.a.createElement("button",null,"Register")," ",n.a.createElement("br",null),n.a.createElement(E.b,{style:{},to:"/login"},"Or login")))}}]),t}(a.Component),R=Object(h.b)(function(e){return{auth:e.auth}},{action_register:function(e){return function(t){t({type:"REGISTER"});var r=O.register(e);"Register_success"===r.status?t({type:"REGISTER_SUCCESS",msg:r.msg}):t({type:"REGISTER_FAILED",errors:r.errors||[]})}},action_resetErrors:v})(A),k=function(e){return function(t){return t(function(e){return{type:"INCRMENT_PRODUCT",id:e}}(e))}},w=function(e){return function(t){return t(function(e){return{type:"DECRMENT_PRODUCT",id:e}}(e))}},N=function(e){return function(t){return t(function(e){return{type:"REMOVE_FROM_CART",id:e}}(e))}},T=function(e){function t(){var e,r;Object(o.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={quantity:1},r.handleAddToCart=function(){r.props.auth.isEmpty?r.props.history.push("/login"):r.props.data.quantity&&r.props.AddToCart(r.props.data.id,r.state.quantity)},r}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.name,r=e.image,a=e.quantity,s=e.id,c=e.price,o=this.props.cartItems.find(function(e){return e.id===s});return n.a.createElement("div",{className:"product"},n.a.createElement("img",{src:"./images/".concat(r,".jpg"),alt:""}),n.a.createElement("div",{className:"product-info"},n.a.createElement("div",{className:"product-name"},t),n.a.createElement("div",{className:"product-price"},c,"\u20ac"),n.a.createElement("div",{className:"product-quantity"},"Left in stock: ",a),a>0?n.a.createElement("button",{disabled:o||!a,onClick:this.handleAddToCart},o?"Added to cart":"Add to cart"):n.a.createElement("button",{disabled:!0},"Out of stock")))}}]),t}(a.Component),L=Object(m.f)(Object(h.b)(function(e){return{auth:e.auth,cartItems:e.products.cartItems}},{AddToCart:function(e,t){return function(r){return r(function(e,t){return{type:"ADD_TO_CART",quantity:t,id:e}}(e,t))}}})(T)),M=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){if(this.props.loading)return n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement("img",{src:"./images/spinner.svg",alt:""}));if(this.props.error)return n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement("h1",null,this.props.error));var e=this.props.productData.map(function(e){return n.a.createElement(L,{key:e.id,data:e})});return n.a.createElement("div",{className:"products"},e)}}]),t}(a.Component),U=Object(m.f)(Object(h.b)(function(e){return{loading:e.products.loading,error:e.products.error}})(M)),F=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.GetProducts()}},{key:"render",value:function(){var e=this.props.products,t=this.props.match.path;return n.a.createElement("div",{className:"product-list"},n.a.createElement("h3",null,"/"===t?"Some products":"Products"),n.a.createElement(U,{productData:"/"===t?e.slice(0,6):e}))}}]),t}(a.Component),P=Object(m.f)(Object(h.b)(function(e){return{products:e.products.products,cartItems:e.products.cartItems}},{GetProducts:function(){return function(e){e({type:"GET_PRODUCTS"}),e({type:"GET_PRODUCTS_SUCCESS",products:O.products})}}})(F)),x=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data,r=t.name,a=t.image,s=t.quantity,c=t.cartQuantity,o=t.id,u=t.price;return n.a.createElement("div",{className:"cart-item"},n.a.createElement("div",{className:"image"},n.a.createElement("img",{src:"./images/".concat(a,".jpg"),alt:""})),n.a.createElement("div",{className:"item-data"},n.a.createElement("div",{className:"product-name"},n.a.createElement("h3",null,r)),n.a.createElement("div",{className:"product-quantity"},n.a.createElement("b",null,"Left in stock"),": ",s,", ",n.a.createElement("b",null,"Price"),": ",u,"\u20ac "),n.a.createElement("div",null,n.a.createElement("div",{className:"cart-quantity"},"Quantity of the item in your cart: ",c,", ",n.a.createElement("b",null,"Total: ")," ",c*u,"\u20ac"),this.props.dontShowAllButtons?"":n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{onClick:function(){s>c&&e.props.increment(o)}},"Add an item"),n.a.createElement("button",{onClick:function(){1===c?e.props.remove(o):e.props.decrement(o)}},"Remove an item"),n.a.createElement("button",{onClick:function(){return e.props.remove(o)}},"Remove all")))))}}]),t}(a.Component),G=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.cartItems,r=t.map(function(t){return n.a.createElement(x,{key:t.id,data:t,increment:e.props.increment,decrement:e.props.decrement,remove:e.props.RemoveFromCart})}),a=0;return t.forEach(function(e){a+=e.cartQuantity*e.price}),n.a.createElement("div",{className:"cart"},r.length>0?r:n.a.createElement("h3",null,"There are no items in your cart"),n.a.createElement("h2",null,"Total: ",a,"\u20ac"),r.length>0?n.a.createElement(E.b,{className:"proceed-button",to:"/accept-address"},"Proceed"):"")}}]),t}(a.Component),q=Object(h.b)(function(e){return{products:e.products.products,cartItems:e.products.cartItems}},{increment:k,decrement:w,RemoveFromCart:N})(G),z=Object(m.f)(Object(h.b)(function(e){return{id:e.auth.userInfo.id}},{setUpdateAddress:function(e){return function(t){return t(function(e){return{type:"SET_UPDATE_ADDRESS",id:e}}(e))}}})(function(e){var t=e.address,r=t.street,a=t.zipCode,s=t.city,c=t.country,o=t.number,u=t.id;return n.a.createElement("div",{className:"address",style:e.active?{borderColor:"white"}:{}},n.a.createElement("div",{className:"left"},"Country: ",c,", ",s,", ",a," ",n.a.createElement("br",null)," Street: ",r,", ",o),e.dontShowButtons?"":n.a.createElement("div",{className:"right"},e.select?n.a.createElement(E.b,{to:"/payment",onClick:function(){return e.makeActive(u)}},"Select"):"",n.a.createElement("button",{onClick:function(){e.setUpdateAddress(u),e.history.push("/account/update-address")}},"Edit"),n.a.createElement("button",{onClick:function(){e.delete(u,e.id)}},"Delete")))})),B=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;if(this.props.auth.isEmpty)return n.a.createElement(m.a,{to:"/"});var t,r=this.props.auth.userInfo.addresses,a=this.props.auth.activeAddressID;return r&&(t=r.map(function(t){return n.a.createElement(z,{key:t.id,active:a===t.id,select:!0,address:t,makeActive:e.props.action_makeAddressActive,delete:e.props.action_deleteAddress})})),n.a.createElement("div",{className:"addresses"},r&&0!==r.length?t:n.a.createElement("h3",null,"No addresses saved")," ",n.a.createElement("br",null),n.a.createElement(E.b,{to:"/account/add-address"},"Add new address"))}}]),t}(a.Component),Q=Object(h.b)(function(e){return{auth:e.auth}},{action_makeAddressActive:function(e){return function(t){return t(function(e){return{type:"MAKE_ADDRESS_ACTIVE",id:e}}(e))}},action_deleteAddress:S})(B),H=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;if(this.props.auth.isEmpty)return n.a.createElement(m.a,{to:"/"});var t=this.props.auth.userInfo.addresses.map(function(t){return n.a.createElement(z,{key:t.id,address:t,delete:e.props.action_deleteAddress})});return n.a.createElement("div",{className:"account"},n.a.createElement("div",{className:"account-details"},n.a.createElement("div",{className:"account-image"},"Spot for image"),n.a.createElement("div",{className:"account-description"},n.a.createElement("h2",null,"Username: ",this.props.auth.userInfo.username),"other stuff...")),n.a.createElement("div",{className:"account-addresses"},n.a.createElement("h3",null,"Addresses:"),t.length>0?t:n.a.createElement("p",null,"You have no addresses saved"),n.a.createElement(E.b,{to:"/account/add-address"},"Add an address")," ",n.a.createElement("br",null),n.a.createElement(E.b,{to:"/account/orders"},"See past orders")))}}]),t}(a.Component),K=Object(h.b)(function(e){return{auth:e.auth}},{action_updateAddress:C,action_deleteAddress:S})(H),V=function(e){function t(){var e,r;Object(o.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={street:"",zipCode:"",number:"",city:"",country:"",error:null},r.handleSubmit=function(e){e.preventDefault();var t=r.state,a=t.street,n=t.zipCode,s=t.number,c=t.city,o=t.country;a&&n&&s&&c&&o?(r.setState({street:"",zipCode:"",number:"",city:"",country:"",error:null}),r.props.action_addNewAddress({street:a,zipCode:n,number:s,city:c,country:o},r.props.userId)):r.setState({error:"One or more fields is empty"})},r.handleChnage=function(e){r.setState(Object(p.a)({},e.target.id,e.target.value))},r}return Object(l.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.resetErrors()}},{key:"render",value:function(){var e=this,t=this.state,r=t.street,a=t.zipCode,s=t.number,c=t.city,o=t.country,u=t.error,i=this.props,d=i.addressError,l=i.addressMsg;return n.a.createElement("div",{className:"add-address"},n.a.createElement("form",{onSubmit:this.handleSubmit,className:"add-address-form"},u?n.a.createElement(f,{message:u}):"",d?n.a.createElement(f,{message:d}):"",l?n.a.createElement(_,{message:l}):"",n.a.createElement("div",{className:"input-grid"},n.a.createElement("div",{className:"input"},n.a.createElement("label",{htmlFor:"country"},"Country/State"),n.a.createElement("input",{type:"text",id:"country",onChange:this.handleChnage,value:o})),n.a.createElement("div",{className:"input"},n.a.createElement("label",{htmlFor:"city"},"City"),n.a.createElement("input",{type:"text",id:"city",onChange:this.handleChnage,value:c})),n.a.createElement("div",{className:"input"},n.a.createElement("label",{htmlFor:"zipCode"},"ZIP code"),n.a.createElement("input",{type:"text",id:"zipCode",onChange:this.handleChnage,value:a})),n.a.createElement("div",{className:"input"},n.a.createElement("label",{htmlFor:"street"},"Street"),n.a.createElement("input",{type:"text",id:"street",onChange:this.handleChnage,value:r})),n.a.createElement("div",{className:"input"},n.a.createElement("label",{htmlFor:"number"},"House no."),n.a.createElement("input",{type:"text",id:"number",onChange:this.handleChnage,value:s}))),n.a.createElement("button",null,"Add address"),n.a.createElement("button",{onClick:function(){return e.props.history.goBack()}},"Go back")))}}]),t}(a.Component),Y=Object(m.f)(Object(h.b)(function(e){return{addressError:e.auth.addressError,addressMsg:e.auth.addressMsg,userId:e.auth.userInfo.id}},{action_addNewAddress:function(e,t){return function(r){r({type:"ADD_ADDRESS"});var a=O.addAddress(e,t);"Add_address_success"===a.status?r({type:"ADD_ADDRESS_SUCCESS",userInfo:a.userInfo}):r({type:"ADD_ADDRESS_FAILED",error:a.error})}},resetErrors:function(){return function(e){return e({type:"ADD_ADDRESS"})}}})(V)),J=Object(h.b)(function(e){return{isEmpty:e.auth.isEmpty,cartItemNumber:e.products.cartItems.length}})(function(e){var t=e.isEmpty,r=e.cartItemNumber;return t||r<=0?n.a.createElement(m.a,{to:"/"}):n.a.createElement("div",{className:"payment"},n.a.createElement("form",null,n.a.createElement("h3",null,"Fake payment(doesn't do anything)"),n.a.createElement("label",{htmlFor:"card-num"},"Card number"),n.a.createElement("input",{type:"text",id:"card-num"}),n.a.createElement(E.b,{to:"checkout"},"Proceed")))}),W=function(e){function t(){var e,r;Object(o.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={cartItems:[]},r.handlePlaceOrder=function(){var e={address:r.props.addresses.filter(function(e){return e.id===r.props.activeAddressID})[0],cartItems:r.props.cartItems};r.props.action_placeOrder(e,r.props.userId)},r}return Object(l.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.action_resetOrderErrors(),this.setState({cartItems:this.props.cartItems})}},{key:"render",value:function(){var e=this;if(!this.props.cartItems||!this.props.addresses||!this.props.activeAddressID)return n.a.createElement(m.a,{to:"/"});if(0===this.props.cartItems.length&&!this.props.checkoutLoading)return n.a.createElement(m.a,{to:"/cart"});var t=this.state.cartItems.map(function(t){return n.a.createElement(x,{key:t.id,data:t,increment:e.props.increment,decrement:e.props.decrement,remove:e.props.RemoveFromCart,dontShowAllButtons:!0})}),r=this.props.addresses.filter(function(t){return t.id===e.props.activeAddressID})[0];return n.a.createElement("div",{className:"checkout"},this.props.orderMsg?n.a.createElement(_,{message:this.props.orderMsg}):"",this.props.orderError?n.a.createElement(f,{message:this.props.orderError}):"",this.props.orderMsg?"":n.a.createElement("button",{onClick:this.handlePlaceOrder,style:{marginBottom:"10px"}},"Order"),n.a.createElement("h3",null,"Delivery address:"),n.a.createElement(z,{address:r,dontShowButtons:!0}),n.a.createElement("h3",{style:{marginBottom:"10px "}},"Items:"),t,this.props.orderMsg?"":n.a.createElement("button",{onClick:this.handlePlaceOrder},"Order"))}}]),t}(a.Component),Z=Object(m.f)(Object(h.b)(function(e){return{cartItems:e.products.cartItems,addresses:e.auth.userInfo.addresses,activeAddressID:e.auth.activeAddressID,checkoutLoading:e.products,orderMsg:e.products.orderMsg,orderError:e.products.orderError,userId:e.auth.userInfo.id}},{increment:k,decrement:w,RemoveFromCart:N,action_placeOrder:function(e,t){return function(r){r({type:"PLACE_ORDER"}),"Order_confirmed"===O.placeOrder(e,t).status?r({type:"PLACE_ORDER_SUCCESS"}):r({type:"PLACE_ORDER_FAILED"})}},action_resetOrderErrors:function(){return function(e){return e({type:"RESET_ORDER_ERRORS"})}}})(W)),X=function(e){function t(){var e,r;Object(o.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={street:"",zipCode:"",number:"",city:"",country:""},r.handleSubmit=function(e){e.preventDefault();var t=r.state,a=t.street,n=t.zipCode,s=t.number,c=t.city,o=t.country;a&&n&&s&&c&&o?(r.setState({street:"",zipCode:"",number:"",city:"",country:"",error:null}),r.props.action_updateAddress({street:a,zipCode:n,number:s,city:c,country:o,addressID:r.props.addressID},r.props.id),r.props.history.goBack()):r.setState({error:"One or more fields is empty"})},r.handleChnage=function(e){r.setState(Object(p.a)({},e.target.id,e.target.value))},r}return Object(l.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.addresses&&this.props.addressID||this.props.history.push("/"),this.props.resetErrors();var t=this.props.addresses.find(function(t){return t.id===e.props.addressID}),r=t.street,a=t.zipCode,n=t.number,s=t.city,c=t.country;this.setState({street:r,zipCode:a,number:n,city:s,country:c,error:null})}},{key:"render",value:function(){var e=this.state,t=e.street,r=e.zipCode,a=e.number,s=e.city,c=e.country,o=e.error,u=this.props,i=u.addressError,d=u.addressMsg;return u.isEmpty?n.a.createElement(m.a,{to:"/"}):n.a.createElement("div",{className:"add-address"},n.a.createElement("form",{onSubmit:this.handleSubmit,className:"add-address-form"},o?n.a.createElement(f,{message:o}):"",i?n.a.createElement(f,{message:i}):"",d?n.a.createElement(_,{message:d}):"",n.a.createElement("div",{className:"input-grid"},n.a.createElement("div",{className:"input"},n.a.createElement("label",{htmlFor:"country"},"Country/State"),n.a.createElement("input",{type:"text",id:"country",onChange:this.handleChnage,value:c})),n.a.createElement("div",{className:"input"},n.a.createElement("label",{htmlFor:"city"},"City"),n.a.createElement("input",{type:"text",id:"city",onChange:this.handleChnage,value:s})),n.a.createElement("div",{className:"input"},n.a.createElement("label",{htmlFor:"zipCode"},"ZIP code"),n.a.createElement("input",{type:"text",id:"zipCode",onChange:this.handleChnage,value:r})),n.a.createElement("div",{className:"input"},n.a.createElement("label",{htmlFor:"street"},"Street"),n.a.createElement("input",{type:"text",id:"street",onChange:this.handleChnage,value:t})),n.a.createElement("div",{className:"input"},n.a.createElement("label",{htmlFor:"number"},"House no."),n.a.createElement("input",{type:"text",id:"number",onChange:this.handleChnage,value:a}))),n.a.createElement("button",null,"Update address")))}}]),t}(a.Component),$=Object(m.f)(Object(h.b)(function(e){return{addressID:e.auth.updateAddressID,addresses:e.auth.userInfo.addresses,isEmpty:e.auth.isEmpty,id:e.auth.userInfo.id}},{action_updateAddress:C,resetErrors:function(){return function(e){return e({type:"UPDATE_ADDRESS"})}}})(X)),ee=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.name,r=e.image,a=e.cartQuantity,s=e.price;return n.a.createElement("div",{className:"cart-item"},n.a.createElement("div",{className:"image"},n.a.createElement("img",{src:"./images/".concat(r,".jpg"),alt:""})),n.a.createElement("div",{className:"item-data"},n.a.createElement("div",{className:"product-name"},n.a.createElement("h3",null,t)),n.a.createElement("div",{className:"product-quantity"},n.a.createElement("b",null,"Price"),": ",s,"\u20ac"),n.a.createElement("div",null,n.a.createElement("div",{className:"cart-quantity"},"Items bought: ",a,", ",n.a.createElement("b",null,"Total: ")," ",a*s,"\u20ac"))))}}]),t}(a.Component),te=function(e){console.log(e.data);var t=e.data.cartItems.map(function(e){return n.a.createElement(ee,{key:e.id,data:e,dontShowButtons:!0})}),r=e.data.date.slice(0,10),a=0;return e.data.cartItems.forEach(function(e){a+=e.price*e.cartQuantity}),n.a.createElement("div",null,n.a.createElement("h2",{style:re},"Address"),n.a.createElement(z,{address:e.data.address,dontShowButtons:!0}),n.a.createElement("h2",{style:re},"Items"),t,n.a.createElement("small",null,r)," ",n.a.createElement("h2",null,"Total value: ",a,"\u20ac"),n.a.createElement("hr",null))},re={marginBottom:"6px"},ae=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.action_getUserOrders(this.props.id)}},{key:"render",value:function(){var e=this.props.orders.map(function(e){return n.a.createElement(te,{data:e,key:e.id})});return this.props.isEmpty?n.a.createElement(m.a,{to:"/"}):n.a.createElement("div",{className:"account"},e.length>0?e:"You have no past orders")}}]),t}(a.Component),ne=Object(m.f)(Object(h.b)(function(e){return{orders:e.auth.userOrders,isEmpty:e.auth.isEmpty,id:e.auth.userInfo.id}},{action_getUserOrders:function(e){return function(t){var r=O.getOrders(e);t({type:"GET_USER_ORDERS",orders:r})}}})(ae)),se=function(){return n.a.createElement(m.d,null,n.a.createElement(m.b,{exact:!0,path:"/",component:P}),n.a.createElement(m.b,{exact:!0,path:"/products",component:P}),n.a.createElement(m.b,{exact:!0,path:"/login",component:j}),n.a.createElement(m.b,{exact:!0,path:"/register",component:R}),n.a.createElement(m.b,{exact:!0,path:"/cart",component:q}),n.a.createElement(m.b,{exact:!0,path:"/accept-address",component:Q}),n.a.createElement(m.b,{exact:!0,path:"/account",component:K}),n.a.createElement(m.b,{exact:!0,path:"/account/add-address",component:Y}),n.a.createElement(m.b,{exact:!0,path:"/account/update-address",component:$}),n.a.createElement(m.b,{exact:!0,path:"/payment",component:J}),n.a.createElement(m.b,{exact:!0,path:"/checkout",component:Z}),n.a.createElement(m.b,{exact:!0,path:"/account/orders",component:ne}))},ce=function(e){function t(){var e,r;Object(o.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).handleLogout=function(e){e.preventDefault(),r.props.action_logout()},r}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("li",null,n.a.createElement(E.b,{to:"/cart"},"Cart")),n.a.createElement("li",null,n.a.createElement(E.b,{to:"/account"},"Account")),n.a.createElement("li",null,n.a.createElement("a",{onClick:this.handleLogout,href:"/"},"Logout")))}}]),t}(a.Component),oe=Object(h.b)(null,{action_logout:function(){return function(e){return e({type:"LOGOUT"})}}})(ce),ue=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("li",null,n.a.createElement(E.b,{to:"/login"},"Login")),n.a.createElement("li",null,n.a.createElement(E.b,{to:"/register"},"Register")))},ie=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.action_checkIfLoggedIn()}},{key:"render",value:function(){return n.a.createElement("div",{className:"navbar"},n.a.createElement("div",{className:"title"},"Webstore project"),n.a.createElement("div",{className:"links-row"},this.props.auth.loginCheck?"":n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(E.b,{to:"/"},"Home")),n.a.createElement("li",null,n.a.createElement(E.b,{to:"/products"},"Products")),this.props.auth.isEmpty?n.a.createElement(ue,null):n.a.createElement(oe,null))),n.a.createElement("div",{className:"bottom-row"}))}}]),t}(a.Component),de=Object(h.b)(function(e){return{auth:e.auth}},{action_checkIfLoggedIn:function(){return function(e){e({type:"CHECK_IF_LOGGED_IN"}),e({type:"CHECK_IF_LOGGED_IN_FAILED"})}}})(ie),le=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement(de,null),n.a.createElement("main",null,n.a.createElement(se,null)))}}]),t}(a.Component),me=(r(50),r(11)),pe=r(1),Ee={userInfo:{username:"123",addresses:[],id:4},isEmpty:!1,activeAddressID:null,updateAddressID:null,token:null,loginCheck:!0,regMsg:null,regErrors:[],logMsg:null,logErrors:[],addressMsg:null,addressError:null,userOrders:[]},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER":return Object(pe.a)({},e,{regErrors:[]});case"REGISTER_SUCCESS":return Object(pe.a)({},e,{regMsg:t.msg});case"REGISTER_FAILED":return Object(pe.a)({},e,{regErrors:t.errors});case"LOGIN":return Object(pe.a)({},e,{logErrors:[]});case"LOGIN_SUCCESS":return localStorage.setItem("token",t.token),Object(pe.a)({},e,{logMsg:t.msg,isEmpty:!1,userInfo:t.userInfo,token:t.token});case"LOGIN_FAILED":return Object(pe.a)({},e,{logErrors:t.errors});case"LOGOUT":return localStorage.removeItem("token"),Object(pe.a)({},e,{userInfo:{},isEmpty:!0});case"CHECK_IF_LOGGED_IN":return Object(pe.a)({},e,{loginCheck:!0});case"CHECK_IF_LOGGED_IN_SUCCESS":return Object(pe.a)({},e,{loginCheck:!1,userInfo:t.userInfo,isEmpty:!1});case"CHECK_IF_LOGGED_IN_FAILED":return Object(pe.a)({},e,{loginCheck:!1});case"RESET_ERRORS":return Object(pe.a)({},e,{regMsg:null,regErrors:[],logMsg:null,logErrors:[]});case"ADD_ADDRESS":return Object(pe.a)({},e,{addressMsg:null,addressError:null});case"ADD_ADDRESS_SUCCESS":return Object(pe.a)({},e,{userInfo:t.userInfo,addressMsg:"New address added"});case"ADD_ADDRESS_FAILED":return Object(pe.a)({},e,{addressError:t.error||"Could not add new address"});case"UPDATE_ADDRESS":return Object(pe.a)({},e,{addressMsg:null,addressError:null});case"UPDATE_ADDRESS_SUCCESS":return Object(pe.a)({},e,{userInfo:t.userInfo,addressMsg:"New address added"});case"UPDATE_ADDRESS_FAILED":return Object(pe.a)({},e,{addressError:"Could not update address"});case"DELETE_ADDRESS":return Object(pe.a)({},e,{addressMsg:null,addressError:null});case"DELETE_ADDRESS_SUCCESS":return Object(pe.a)({},e,{userInfo:t.userInfo,addressMsg:"Address deleted"});case"DELETE_ADDRESS_FAILED":return Object(pe.a)({},e,{addressError:"Could not delete address"});case"MAKE_ADDRESS_ACTIVE":return Object(pe.a)({},e,{activeAddressID:t.id});case"SET_UPDATE_ADDRESS":return Object(pe.a)({},e,{updateAddressID:t.id});case"GET_USER_ORDERS":return Object(pe.a)({},e,{userOrders:t.orders});default:return e}},fe=r(34),be={products:[],cartItems:[],loading:!0,error:null,checkoutLoading:!1,orderMsg:null,orderError:null},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":return Object(pe.a)({},e,{error:null});case"GET_PRODUCTS_SUCCESS":return Object(pe.a)({},e,{loading:!1,products:t.products});case"GET_PRODUCTS_FAILED":return Object(pe.a)({},e,{loading:!1,error:t.error});case"ADD_TO_CART":var r=t.id,a=t.quantity,n=e.products.find(function(e){return e.id===r}),s={id:n.id,cartQuantity:a,quantity:n.quantity,image:n.image,name:n.name,price:n.price};return Object(pe.a)({},e,{cartItems:[].concat(Object(fe.a)(e.cartItems),[s])});case"REMOVE_FROM_CART":var c=e.cartItems.filter(function(e){return e.id!==t.id});return Object(pe.a)({},e,{cartItems:c});case"INCRMENT_PRODUCT":var o=t.id,u=e.cartItems.map(function(e){return e.id===o&&e.cartQuantity<e.quantity?(e.cartQuantity++,e):e});return Object(pe.a)({},e,{products:u});case"DECRMENT_PRODUCT":var i=t.id,d=e.cartItems.map(function(e){return e.id===i&&e.cartQuantity>0?(e.cartQuantity--,e):e});return Object(pe.a)({},e,{products:d});case"PLACE_ORDER":return Object(pe.a)({},e,{checkoutLoading:!0,orderError:null,orderMsg:null});case"PLACE_ORDER_SUCCESS":return Object(pe.a)({},e,{checkoutLoading:!1,cartItems:[],products:[],orderMsg:"The order was accepted"});case"PLACE_ORDER_FAILED":return Object(pe.a)({},e,{checkoutLoading:!1,orderError:"The order was not accepted"});case"RESET_ORDER_ERRORS":return Object(pe.a)({},e,{orderError:null,orderMsg:null});case"EMPTY_CART":return Object(pe.a)({},e,{cartItems:[]});default:return e}},ye=Object(me.combineReducers)({auth:he,products:ge}),Oe=r(23),ve=r(32),Ce=Object(ve.a)({reducer:ye,middleware:[Oe.a],devTools:!0});c.a.render(n.a.createElement(h.a,{store:Ce},n.a.createElement(E.a,null,n.a.createElement(le,null))),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.5a7bfeb3.chunk.js.map